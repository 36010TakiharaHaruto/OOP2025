<Window x:Class="TenkiApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="TenkiApp" Width="1200" Height="700"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource AppBackground}">

    <Window.Resources>
        <LinearGradientBrush x:Key="AppBackground" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#0D1117" Offset="0"/>
            <GradientStop Color="#1A1C28" Offset="1"/>
        </LinearGradientBrush>
    </Window.Resources>

    <Grid Margin="20">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="280"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- 左メニュー -->
        <Border Grid.Column="0" Background="#2A2A3C" Padding="20" CornerRadius="15">
            <StackPanel>
                <TextBlock Text="TenkiApp" FontSize="28" FontWeight="Bold" Foreground="White" Margin="0 0 0 25"/>
                <TextBlock Text="地域を選択" Foreground="White" Margin="0 0 0 5"/>

                <ComboBox x:Name="PrefCombo" SelectionChanged="PrefCombo_SelectionChanged"
                          FontSize="16" Background="#2A2A3C" Foreground="Black"
                          BorderBrush="#55FFFFFF" Padding="5" Margin="0 0 0 20"
                          DisplayMemberPath="Name"/>

                <Button Content="更新" Height="50" Click="Refresh_Click" Foreground="Black" FontWeight="Bold" Margin="0 0 0 20">
                    <Button.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#66E0FFFF" Offset="0"/>
                            <GradientStop Color="#3399FFFF" Offset="1"/>
                        </LinearGradientBrush>
                    </Button.Background>
                </Button>

                <TextBlock x:Name="StatusText" Foreground="#CCFFFFFF" Margin="0 20 0 0"/>
            </StackPanel>
        </Border>

        <!-- 右メイン -->
        <Grid Grid.Column="1" Margin="30 0 0 0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <!-- 現在の天気 -->
                <RowDefinition Height="*"/>
                <!-- グラフ -->
                <RowDefinition Height="220"/>
                <!-- 週間予報 -->
            </Grid.RowDefinitions>

            <!-- 現在の天気 -->
            <Border Grid.Row="0" Background="#2A2A3C" CornerRadius="20" Padding="20" Margin="0 0 0 15">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock x:Name="WeatherIcon" FontSize="48" Margin="0 0 20 0"/>
                    <StackPanel>
                        <TextBlock x:Name="AreaTitle" FontSize="28" FontWeight="Bold" Foreground="White" Margin="0 0 0 5"/>
                        <TextBlock x:Name="TimeText" Foreground="White" FontSize="20" Margin="0 0 0 5"/>
                        <TextBlock x:Name="TempText" Foreground="White" FontSize="20" Margin="0 0 0 5"/>
                        <TextBlock x:Name="WindText" Foreground="White" FontSize="20" Margin="0 0 0 5"/>
                        <TextBlock x:Name="WindDirText" Foreground="White" FontSize="20"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- 今日の気温グラフ -->
            <Border Grid.Row="1" Background="#2A2A3C" CornerRadius="20" Padding="10" Margin="0 0 0 15">
                <Canvas x:Name="GraphCanvas" HorizontalAlignment="Stretch" VerticalAlignment="Stretch"/>
            </Border>

            <!-- 週間予報（横スクロール＋中央寄せ） -->
            <Border Grid.Row="2" Background="#2A2A3C" CornerRadius="20" Padding="10">
                <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled">
                    <WrapPanel x:Name="WeeklyPanel" Orientation="Horizontal" HorizontalAlignment="Center" />
                </ScrollViewer>
            </Border>
        </Grid>
    </Grid>
</Window>
