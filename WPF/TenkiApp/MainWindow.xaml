<Window x:Class="TenkiApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="TenkiApp" Width="1200" Height="700"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <!-- ウィンドウ全体のグラデーション -->
        <LinearGradientBrush x:Key="AppBackground" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#FFF5FB" Offset="0"/>
            <GradientStop Color="#EFD8F7" Offset="1"/>
        </LinearGradientBrush>

        <!-- 左メニューのグラデーション -->
        <LinearGradientBrush x:Key="MenuBackground" StartPoint="0,0" EndPoint="0,1">
            <GradientStop Color="#FFF0FA" Offset="0"/>
            <GradientStop Color="#EAD8F7" Offset="1"/>
        </LinearGradientBrush>

        <!-- ボタン用ラベンダーグラデーション -->
        <LinearGradientBrush x:Key="ButtonLavender" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#F8E8FA" Offset="0"/>
            <GradientStop Color="#E8D8F8" Offset="1"/>
        </LinearGradientBrush>

        <!-- パネル背景 -->
        <LinearGradientBrush x:Key="PanelBackground" StartPoint="0,0" EndPoint="1,1">
            <GradientStop Color="#FFF0FA" Offset="0"/>
            <GradientStop Color="#F5E6F8" Offset="1"/>
        </LinearGradientBrush>
    </Window.Resources>

    <Grid Background="{StaticResource AppBackground}" Margin="20">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="280"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- 左メニュー -->
        <Border Grid.Column="0" Background="{StaticResource MenuBackground}" Padding="20" CornerRadius="15">
            <StackPanel>
                <TextBlock Text="TenkiApp" FontSize="28" FontWeight="Bold" Foreground="#CFA6E3" Margin="0 0 0 25"/>

                <TextBlock Text="地域を選択" Foreground="#CFA6E3" Margin="0 0 0 5"/>
                <ComboBox x:Name="PrefCombo" SelectionChanged="PrefCombo_SelectionChanged"
                  FontSize="16" Background="#FAF0FC" Foreground="#A678C7"
                  BorderThickness="0" Padding="5" Margin="0 0 0 20"
                  DisplayMemberPath="Name"/>

                <Button Content="更新" Height="50" Click="Refresh_Click" 
                Foreground="#6B4F8C" FontWeight="Bold" Margin="0 0 0 20"
                BorderThickness="0" Background="{StaticResource ButtonLavender}"/>

                <TextBlock x:Name="StatusText" Foreground="#A678C7" Margin="0 20 0 20"/>

                <!-- ⭐ 左メニューの余白を活かす追加パネル -->
                <Border Background="#F9EDFF" CornerRadius="12" Padding="15" Margin="0 0 0 15"
                BorderBrush="#E0C8F1" BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="今日のサマリー" 
                           FontSize="18" FontWeight="Bold" 
                           Foreground="#B083D6" Margin="0 0 0 10"/>

                        <TextBlock x:Name="MiniWeatherIcon" FontSize="40" 
                           HorizontalAlignment="Center" Margin="0 0 0 10"/>

                        <TextBlock x:Name="MiniTempText" FontSize="20" 
                           Foreground="#A678C7" HorizontalAlignment="Center"/>

                        <StackPanel Margin="0 10 0 0">
                            <TextBlock x:Name="MiniHumidityText" Foreground="#A678C7"/>
                            <TextBlock x:Name="MiniWindText" Foreground="#A678C7"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- ⭐ 自動メモ（今日のアドバイスパネル） -->
                <Border Background="#F3E6FF" CornerRadius="12" Padding="15"
                BorderBrush="#D9C0F1" BorderThickness="1">
                    <StackPanel>
                        <TextBlock Text="ひとこと" 
                           FontSize="18" FontWeight="Bold" 
                           Foreground="#B083D6" Margin="0 0 0 10"/>

                        <TextBlock x:Name="AdviceText" 
                           Text="読み込み中…" 
                           Foreground="#9065B0" TextWrapping="Wrap"/>
                    </StackPanel>
                </Border>

            </StackPanel>
        </Border>

        <!-- 右メイン -->
        <Grid Grid.Column="1" Margin="30 0 0 0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="220"/>
            </Grid.RowDefinitions>

            <!-- 現在の天気 -->
            <Border Grid.Row="0" Background="{StaticResource PanelBackground}" CornerRadius="20"
                    Padding="20" Margin="0 0 0 15">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock x:Name="WeatherIcon" FontSize="48" Margin="0 0 20 0"/>
                    <StackPanel>
                        <TextBlock x:Name="AreaTitle" FontSize="28" FontWeight="Bold" 
                                   Foreground="#CFA6E3" Margin="0 0 0 5"/>
                        <TextBlock x:Name="TimeText" Foreground="#A678C7" FontSize="20"/>
                        <TextBlock x:Name="TempText" Foreground="#A678C7" FontSize="20"/>
                        <TextBlock x:Name="WindText" Foreground="#A678C7" FontSize="20"/>
                        <TextBlock x:Name="WindDirText" Foreground="#A678C7" FontSize="20"/>
                    </StackPanel>
                </StackPanel>
            </Border>

            <!-- グラフ -->
            <Border Grid.Row="1" Background="{StaticResource PanelBackground}" CornerRadius="20"
                    Padding="10" Margin="0 0 0 15">
                <Canvas x:Name="GraphCanvas"/>
            </Border>

            <!-- 週間予報 -->
            <Border Grid.Row="2" Background="{StaticResource PanelBackground}" CornerRadius="20" Padding="10">
                <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Disabled">
                    <WrapPanel x:Name="WeeklyPanel" Orientation="Horizontal" HorizontalAlignment="Center" />
                </ScrollViewer>
            </Border>
        </Grid>
    </Grid>
</Window>
